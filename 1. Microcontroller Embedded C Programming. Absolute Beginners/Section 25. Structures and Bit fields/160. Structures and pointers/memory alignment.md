–¶—ñ **–Ω—É–ª—ñ** –∑‚Äô—è–≤–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ **–≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ (memory alignment)**, —è–∫–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –¥–æ—Å—Ç—É–ø—É –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö —É –ø–∞–º‚Äô—è—Ç—ñ.

---

### üîπ **–ß–æ–º—É –∑‚Äô—è–≤–ª—è—é—Ç—å—Å—è –Ω—É–ª—ñ?**
–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```c
struct DataSet {
    char data1;  // 1 –±–∞–π—Ç
    int data2;   // 4 –±–∞–π—Ç–∏
    char data3;  // 1 –±–∞–π—Ç
    short data4; // 2 –±–∞–π—Ç–∏
};
```
–ú—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ —Ç–∞ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∏ –º–∞—é—Ç—å **–æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è** –∑–º—ñ–Ω–Ω–∏—Ö —É –ø–∞–º‚Äô—è—Ç—ñ. –ó–º—ñ–Ω–Ω—ñ —Ç–∏–ø—É **int** –º–∞—é—Ç—å —Ä–æ–∑—Ç–∞—à–æ–≤—É–≤–∞—Ç–∏—Å—è –∑–∞ –∞–¥—Ä–µ—Å–æ—é, –∫—Ä–∞—Ç–Ω–æ—é 4 (–¥–ª—è 32-–±—ñ—Ç–Ω–∏—Ö —Å–∏—Å—Ç–µ–º).

---

### üîπ **–†–æ–∑–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤ –ø–∞–º‚Äô—è—Ç—ñ**
| –ü–æ–ª–µ    | –¢–∏–ø   | –†–æ–∑–º—ñ—Ä (–±–∞–π—Ç) | –ê–¥—Ä–µ—Å–∞ –≤ –ø–∞–º‚Äô—è—Ç—ñ | –í–º—ñ—Å—Ç  |
|---------|-------|--------------|------------------|--------|
| `data1` | `char`  | 1            | `0x61FE04`       | `0x11` |
| **Padding** | - | 3 | `0x61FE05` - `0x61FE07` | `0x00 00 00` |
| `data2` | `int`   | 4            | `0x61FE08`       | `0xFFFFFFEE` |
| `data3` | `char`  | 1            | `0x61FE0C`       | `0x22` |
| **Padding** | - | 1 | `0x61FE0D` | `0x00` |
| `data4` | `short` | 2            | `0x61FE0E`       | `0xABCD` |

---

### üîπ **–ß–æ–º—É —Ç–∞–∫?**
- `data1` (1 –±–∞–π—Ç) –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ `0x61FE04`
- `data2` (`int`, 4 –±–∞–π—Ç–∏) **–ø–æ–≤–∏–Ω–µ–Ω –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ –∞–¥—Ä–µ—Å–∏, –∫—Ä–∞—Ç–Ω–æ—ó 4** (`0x61FE08`), —Ç–æ–º—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –¥–æ–¥–∞—î **3 –±–∞–π—Ç–∏ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è** (–Ω—É–ª–∏)
- `data3` (`char`, 1 –±–∞–π—Ç) –π–¥–µ –Ω–∞ `0x61FE0C`
- `data4` (`short`, 2 –±–∞–π—Ç–∏) **–ø–æ–≤–∏–Ω–µ–Ω –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ –ø–∞—Ä–Ω–æ—ó –∞–¥—Ä–µ—Å–∏** (`0x61FE0E`), —Ç–æ–º—É —â–µ **1 –±–∞–π—Ç –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è** (`0x61FE0D`)

**–ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ = 12 –±–∞–π—Ç—ñ–≤, –∞ –Ω–µ 8, —á–µ—Ä–µ–∑ –¥–æ–¥–∞–Ω—ñ –±–∞–π—Ç–∏ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è!**

---

### üîπ **–Ø–∫ –ø—Ä–∏–±—Ä–∞—Ç–∏ –Ω—É–ª—ñ?**
–Ø–∫—â–æ —Ç–∏ —Ö–æ—á–µ—à **—â—ñ–ª—å–Ω–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤ –ø–∞–º‚Äô—è—Ç—ñ**, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `#pragma pack(1)` –∞–±–æ `__attribute__((packed))`:

```c
#pragma pack(1)  // –í–∏–º–∏–∫–∞—î –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è
struct DataSet {
    char data1;
    int data2;
    char data3;
    short data4;
};
#pragma pack()
```
–ê–±–æ:
```c
struct __attribute__((packed)) DataSet {
    char data1;
    int data2;
    char data3;
    short data4;
};
```
üîπ **–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–π–º–∞—Ç–∏–º–µ 8 –±–∞–π—Ç—ñ–≤ –∑–∞–º—ñ—Å—Ç—å 12!**  
‚ö†Ô∏è –ê–ª–µ —Ü–µ –º–æ–∂–µ **—É–ø–æ–≤—ñ–ª—å–Ω–∏—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–º—ñ–Ω–Ω–∏—Ö**, –æ—Å–∫—ñ–ª—å–∫–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä –Ω–µ –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –Ω–µ–≤–∏—Ä—ñ–≤–Ω—è–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏.

---

### üî• **–í–∏—Å–Ω–æ–≤–æ–∫**
1. **–ù—É–ª—ñ –∑‚Äô—è–≤–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ** ‚Äì —Ü–µ —Ä–æ–±–∏—Ç—å—Å—è –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —à–≤–∏–¥–∫–æ—Å—Ç—ñ –¥–æ—Å—Ç—É–ø—É.
2. **–í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –æ—Å–æ–±–ª–∏–≤–æ –≤–∞–∂–ª–∏–≤–µ –¥–ª—è 32-–±—ñ—Ç–Ω–∏—Ö —ñ 64-–±—ñ—Ç–Ω–∏—Ö —Å–∏—Å—Ç–µ–º**.
3. **–ú–æ–∂–Ω–∞ –≤–∏–º–∫–Ω—É—Ç–∏ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è** (`#pragma pack(1)`, `__attribute__((packed))`), –∞–ª–µ —Ü–µ –º–æ–∂–µ –∑–Ω–∏–∑–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.
4. **–†–æ–∑—É–º—ñ–Ω–Ω—è –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤–µ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞–º–∏, DMA —Ç–∞ low-level –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è–º.** üöÄ